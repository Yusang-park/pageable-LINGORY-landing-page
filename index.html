<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lingory</title>
    <link rel="stylesheet" href="https://use.typekit.net/ber2ncp.css">
    <link rel="stylesheet" href="/main.css" />
  </head>
  <body class="homepage">
    <div id="hompage">
      <div class="section welcome" data-anchor="page-0">
        <div class="container">
          <div class="grid">
              <img id="gif" src="" alt="" />
              <h1>Speak Like Local People</h1>
          </div>
        </div>
      </div>
      <div class="section desc1" data-anchor="page-1">
        <div class="container">
          <div class="paragraph">
            <h2>Larger amount of contents</h2>
            <p>
              Knowing more than 3,000 words is required to have a conversation
              with local people.<br />
              Lingory has around 3,500 words in a well oranized structure.
            </p>
          </div>
          <div class="phone-holder">
              <div class="phone">
                    <video
                      autoplay=""
                      autobuffer=""
                      muted=""
                      playsinline=""
                      >
                      <source
                        src="video/desc1.mp4"
                        type="video/mp4"
                      />
                      Your browser does not support the video tag.
                    </video>
              </div>
            </div>
        </div>
      </div>
      <div class="section desc2" data-anchor="page-2">
        <div class="container">
          <div class="paragraph">
            <h2>Practical contents</h2>
            <p>
              I have seen many students complaining that they can not really speak out<br />
              when they learnt from a class.<br />
              After learning in Lingory, you will be able to speak out with confidence.
            </p>
          </div>
          <div class="phone-holder">
              <div class="phone">
                    <video
                      autoplay=""
                      autobuffer=""
                      muted=""
                      playsinline=""
                      >
                      <source
                        src="video/desc2.mp4"
                        type="video/mp4"
                      />
                      Your browser does not support the video tag.
                    </video>
              </div>
            </div>
        </div>
      </div>
      <div class="section desc3" data-anchor="page-3">
        <div class="container">
          <div class="paragraph">
            <h2>Personal library</h2>
            <p>
              While learning in Lingory, there will be some words or sentences which<br />
              take longer time for you to memorize.<br />
              Hit the save button in this case, then it will save the current page in your library.
            </p>
          </div>
          <div class="phone-holder">
              <div class="phone">
                    <video
                      autoplay=""
                      autobuffer=""
                      muted=""
                      playsinline=""
                      >
                      <source
                        src="video/desc3.mp4"
                        type="video/mp4"
                      />
                      Your browser does not support the video tag.
                    </video>
              </div>
            </div>
        </div>
      </div>
      <div class="team" data-anchor="page-4">
        <div class="container">
            <div class="about">
              <h1>Meet Our Team</h1>
              <p>Lingory team leads web and mobile development<br/>
              community through <strong>confrerences, blogs, open source, videos,<br/>
              books</strong> and meetups.</p>
              <p>We value open source, learning, remote work, and open<br />
                communication.</p>
            </div>
          </div>
              <div class="tags_container"> 
                <img src="img/team.svg" alt="our team" class="tags">
              </div>
      </div>
    </div>

    <script src="https://unpkg.com/pageable@latest/dist/pageable.min.js"></script>
    <script>
      const pages = new Pageable("#hompage", {
        animation: 400, // the duration in ms of the scroll animation
        delay: 100, // the delay in ms before the scroll animation starts
        orientation: "vertical", // or horizontal
        swipeThreshold: 50, // swipe / mouse drag distance (px) before firing the page change event
        events: {
          wheel: true, // enable / disable mousewheel scrolling
          mouse: true, // enable / disable mouse drag scrolling
          touch: true, // enable / disable touch / swipe scrolling
          keydown: true, // enable / disable keyboard navigation
        },
      });
      pages.on("scroll", () => {});

      document.getElementById("gif").src = "img/logo_good_quality.gif?a=" + Math.random();

      //그냥 xd에서 name_tags와 gray box를 같이 추출하자!!!!!!!

      //gray box resize
      // const gray_box = document.querySelector('.gray_box');
      // const name_tags = document.querySelector('.name_tags');
      // gray_box.style.bottom = `${name_tags.style.top}px`;
      // console.log(name_tags);
      // console.log(gray_box.style.bottom);

      //for a bug that svg is resized when approaching to the team section
      //solution : position: absolute (x) relative(o)
      // const gray_box = document.querySelector('.gray_box');
      // const sections = document.querySelectorAll('.section');
      // const team_section = document.querySelector('.team');

      // let sections_height=0;
      // for(let i = 0; i<sections.length; i++){
      //   sections_height += sections[i].offsetHeight;
      // }
      // pages.on("scroll",()=>{
      //   if(`${sections[0].offsetHeight + pages.scrollPosition}` > sections_height){
      //     gray_box.style.visibility="visible";
      //   }
      //   else gray_box.style.visibility="hidden";
      // });

      const pips = document.querySelector('.pg-pips');
      const section0 = document.querySelector('.welcome');

      // console.log(section0.offsetHeight);
      pages.on("scroll",()=>{
        console.log('pages.scrollPosition : ' + pages.scrollPosition);

        if(Math.floor(pages.scrollPosition)> 1){
          console.log('bar 생성');
          pips.style.opacity = 1;
          pips.style.display = 'flex';
        }
        else {
          console.log('section0이니까 bar 없앰');
          pips.style.opacity = 0;
          pips.style.display = 'none';
        }
      });

      // pages.on("scroll.start", data => {
      //   pips.style.opacity = 1;
      // });
    </script>
  </body>
</html>
